@{
    ViewBag.Title = "Home Page";  
}
@section scripts {
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
        var map;
        function initialize() {
            var mapOptions = {
                zoom: 7,
                center: new google.maps.LatLng(47.22, -120.72),
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map($('#map-canvas')[0], mapOptions);
        }

        function showMarkers(locations) {
            locations.forEach(function(loc) {
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(loc.Latitude, loc.Longitude),
                    map: map,
                    title: loc.Name
                });
            });
        }

        $(function() {
            initialize();

            $.get('/api/location', function(data) {
                showMarkers(data);
            });

        });
    </script>
}
@section css
{
    <style>
        #map-canvas {
            height: 500px;
            margin: 0;
            padding: 0;
        }
    </style>
}
<div id="map-canvas"></div>
